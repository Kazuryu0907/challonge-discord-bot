# 導入
1. まずbotをサーバーに導入してください
[ここ](https://qiita.com/1ntegrale9/items/cb285053f2fa5d0cccdf)に詳しい手順が書いてあります

2. 取得したbotのTOKENをconfig.iniのなかの**token**にコピペしてください

3. 一度起動してみましょう 接続に成功すると`We have logged in ~`と出ます  
`Token Error.`と出た場合はTOKENをもう一度確認してみてください

4. 次にchallongeのAPIとusernameをconfig.iniの中の**api_key**と**username**にコピペしてください  
APIは[ここ](https://challonge.com/settings/developer)から取得できます

5. `run.exe`を実行することでbotを起動できます
# 前提
前提として以下の事を守ってください
- challongeの出場チーム名とdiscordの試合報告選手の役職は以下の原則に基づく  
challongeの出場チーム名が *AAA* とすると、discordの役職名を *[AAA]* としてください

# 使い方
## challongeの紐づけ
1. まずchallongeのトーナメントをサーバーに紐づけしましょう  
`/setid トーナメントのid`  で紐づけできます  
ここで言う**トーナメントのid**とは、*https://challonge.com/~*の **~** の部分です
    - 初回登録以降、リアクションで更新するかどうかの確認があります　その場合は指示に従ってください

2. 次に配信試合の設定をしましょう  
`/setlive 配信する試合の試合番号(","区切り)`  で設定できます  
ここで言う**配信する試合の試合番号**とは、各試合の左側にある小さい番号のことです  
例)1,5,8試合を配信試合に設定する  
`/setlive 1,5,8`  

3. 一度確認してみましょう
`/show`  で確認できます

## 試合開始
`/start`　で第1ラウンドのアナウンスをします(内部的にprintしてるだけです)

## 試合報告
1. 試合報告チャンネルを用意しておきましょう

2. 試合報告は`/r ○-○`で報告できます  
英数字で入力してください　それ以外は弾きます  
数字の順番はどちらでもいいです　自動的に大きい方を入力チーム側に設定します

## アナウンス
総当たりの各ラウンド終了時に自動的にアナウンスします

- アナウンスの設定  
アナウンスはカスタマイズすることが出来ます  
    - カスタマイズ方法  
    `/anno 識別記号` を実行した後、自分で設定したいアナウンスを入力するとオリジナルのアナウンスが設定されます  

    - 識別記号 および アナウンス時の変数  
        
        識別記号一覧
        | N | L | B | T | R |
        |:----:|:----:|:----:|:----:|:----:|
        | Nomal | Live | Border | Template | Round |

        アナウンス時の変数一覧
        | {0} | {1} | {2} | {3} | {4} | {5} |
        |:----:|:----:|:----:|:----:|:----:|:----:|
        | 現在のラウンド | Aチームの名前 | Bチームの名前 | マッチの固有番号 | Aチームのdiscordメンション | Bチームのdiscordメンション |

    - アナウンスの構造  

    ![graph](https://imgur.com/XyhgIs8)

- アナウンスのテスト  
`/Tanno` で現在のアナウンスをテスト出来ます  
**カスタマイズされた部分のみ表示する**のでリセットしたいときはconfig.ini内のANNOの各値をNoneに書き換えてください


## コマンドまとめ  
`/r ○-○` 試合結果をchallongeにアップロード  
`/Tanno` 現在のアナウンスをテストする  
`/setid` discordサーバーにchallongeのトーナメントを紐づける  
`/setlive 配信試合の試合番号(,区切り)` 配信する試合の試合番号を設定する  
`/start` Round1のアナウンスをする  
`/anno 識別記号` アナウンスをカスタマイズする(cp932)  
`/show` 紐づけられているchallongeのトーナメントidと配信試合の番号を確認する


## 不明点・要望等
https://twitter.com/kazuryu_RL 自分のtwitter  
Kazuryu#4095 自分のdiscord  
等に送っていただければ随時対応いたします



